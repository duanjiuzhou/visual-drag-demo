(this["webpackJsonpvisual-drag-demo"]=this["webpackJsonpvisual-drag-demo"]||[]).push([[11],{673:function(e,n,c){},674:function(e,n,c){},675:function(e,n,c){},722:function(e,n,c){"use strict";function t(e){var n=(a=Object(v.d)()).addComponent,c=a.componentsMeta,t=a.componentsInstance,a=Object(r.useCallback)((function(){var a=e.name,i=e.showName,s=e.closeFunc,o=e.version,r={},l=(p=c[a]).uiSchema,d=p.dataSchema;!function e(n){var c,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";for(c in n){var a,i=n[c];"group"===i.type?e(i.children,(a=i.baseParam)?"".concat(a):""):r[t+c]=i.defaultValue}}(l);var b=[t[0].box.width/2,t[0].box.height/2],p=(l=(p=[r.width||150,r.height||150])[0],p[1]);s(),n({id:"",type:a,name:i,version:o,box:{width:l,height:p,top:b[1]-p/2,left:b[0]-l/2,zIndex:1,rotate:0,opacity:1},props:Object(g.a)({},Object(y.d)(r)),dataSource:d||{}})}),[e,c,t,n]);return Object(w.jsx)("div",{className:"component-item",onClick:a,children:e.showName})}function a(e){var n=e.subList,c=e.components,a=Object(r.useState)(n?[n[0].key]:[]),i=(l=Object(f.a)(a,2))[0],s=l[1],o=(a=Object(r.useState)([]),a=(l=Object(f.a)(a,2))[0],l[1]),l=Object(r.useCallback)((function(n){return 0<n.length?Object(w.jsx)("div",{className:"component-list",children:n.map((function(n){return Object(w.jsx)(t,Object(g.a)(Object(g.a)({},n),{},{closeFunc:e.closeFunc}),n.name)}))}):Object(w.jsx)(O.a,{style:{paddingTop:"12px"}})}),[e.closeFunc]);return Object(r.useEffect)((function(){var e;n&&(e=n.find((function(e){return e.key===i[0]})),o(e?e.components:[]))}),[i,n]),Object(w.jsx)(C,{children:n?Object(w.jsxs)("div",{className:"content-wrap",children:[Object(w.jsx)("div",{className:"menu-wrap",children:Object(w.jsx)(x.a,{selectedKeys:i,onSelect:function(e){return s([e.key])},children:n.map((function(e){return Object(w.jsx)(x.a.Item,{children:e.name},e.key)}))})}),Object(w.jsx)("div",{className:"component-wrap",children:l(a)})]}):l(c)})}function i(){var e=Object(v.d)().componentsMeta,n=Object(r.useState)(),c=Object(f.a)(n,2),t=c[0],i=c[1],s=(n=Object(r.useState)(),n=(c=Object(f.a)(n,2))[0],c[1]),o=Object(r.useCallback)((function(){i(void 0)}),[]);return Object(r.useEffect)((function(){var n,c,t;n=Object.keys(e).map((function(n){return e[n]})),c=Object(h.a)(k),t={},c.forEach((function(e,n){e.key?t[e.key]="".concat(n):e.subList&&e.subList.forEach((function(e,c){t[e.key]="".concat(n,".").concat(c)}))})),n.forEach((function(e){e.classify&&e.classify.forEach((function(n){0!==(n=t[n]?t[n].split("."):[]).length&&(1===n.length?c[Number(n[0])].components.push(e):2===n.length&&c[Number(n[0])].subList[Number(n[1])].components.push(e))}))})),s(c)}),[e]),Object(w.jsx)(N,{children:n?n.map((function(e){return Object(w.jsx)(m.a,{visible:t===e.name,onVisibleChange:function(n){i(e.name),n||i(void 0)},trigger:["click"],overlay:Object(w.jsx)(a,Object(g.a)(Object(g.a)({},e),{},{closeFunc:o})),children:Object(w.jsx)("div",{className:"category ".concat(e.name===t?"selected":""),children:e.name})},e.name)})):null})}function s(){var e=(s=Object(v.d)()).componentsInstance,n=s.clearCanvas,c=Object(b.d)(),t=Object(r.useCallback)((function(){localStorage.setItem("designerData",JSON.stringify(e)),d.a.success("\u4fdd\u5b58\u6210\u529f")}),[e]),a=Object(r.useCallback)((function(){n(),d.a.success("\u5220\u9664\u6210\u529f")}),[n]),s=Object(r.useCallback)((function(){localStorage.setItem("designerData",JSON.stringify(e)),c.push(S.b)}),[e,c]);return Object(w.jsxs)("div",{className:"wrap",children:[Object(w.jsx)("div",{className:"component-warp",children:Object(w.jsx)(i,{})}),Object(w.jsxs)("div",{className:"handle-wrap",children:[Object(w.jsx)("span",{onClick:a,className:"release-wrap",title:"\u6e05\u7a7a\u753b\u5e03",children:Object(w.jsx)(p.a,{className:"icon icon-align"})}),Object(w.jsx)("span",{onClick:t,className:"release-wrap",title:"\u4fdd\u5b58",children:Object(w.jsx)(u.a,{className:"icon icon-align"})}),Object(w.jsx)("span",{onClick:s,className:"release-wrap",title:"\u53d1\u5e03\u9884\u89c8",children:Object(w.jsx)(j.a,{className:"icon release"})})]})]})}function o(){var e=Object(v.d)(),n=e.componentsInstance,c=e.activeComponent,t=e.setActiveComponentIndex;return Object(w.jsxs)(I,{children:[Object(w.jsx)("div",{className:"label",children:"\u56fe\u5c42"}),Object(w.jsx)("ul",{className:"layer-list",children:n.map((function(e,n){var a=e.id;e=e.name;return Object(w.jsx)("li",{className:"com-item ".concat((null==c?void 0:c.id)===a?"com-checked":null),onClick:function(){t(n)},children:e},a)}))})]})}c.r(n);var r=c(0),l=(c(422),c(191)),d=c.n(l),b=c(45),p=c(723),u=c(724),j=c(725),m=(l=(c(424),c(671)),c.n(l)),h=c(392),x=(l=(c(427),c(660)),c.n(l)),O=(l=(c(252),c(272)),c.n(l)),f=c(91),g=c(63),v=c(119),k=(l=c(92),[{name:"\u56fe\u8868",icon:"",subList:[{name:"\u67f1\u72b6\u56fe",icon:"",key:"bar-chart",components:[]},{name:"\u6298\u7ebf\u56fe",icon:"",key:"line-chart",components:[]},{name:"\u997c\u56fe",icon:"",key:"pie-chart",components:[]},{name:"\u6563\u70b9\u56fe",icon:"",key:"scatter-chart",components:[]},{name:"\u5176\u4ed6",icon:"",key:"other-chart",components:[]}],components:[]},{name:"\u5a92\u4f53",key:"media",icon:"",components:[]},{name:"\u6587\u5b57",key:"text",icon:"",components:[]},{name:"\u8f85\u52a9",key:"interactive",icon:"",components:[]}]),y=c(182),w=c(2),N=l.a.div.withConfig({displayName:"component-list__ComponentListWrap",componentId:"sc-190ecry-0"})(["display:flex;color:white;box-shadow:rgba(43,146,210,0.1) 0px 2px 4px 0px;align-items:center;.category{display:flex;align-items:center;justify-content:center;height:40px;padding:0 12px;cursor:pointer;&:hover{background-color:rgba(8,14,33,0.5);}&.selected{color:rgba(21,139,246,1);background-color:rgba(8,14,33,0.3);}}"]),C=l.a.div.withConfig({displayName:"component-list__OverlayWrap",componentId:"sc-190ecry-1"})(["width:300px;height:160px;background-color:#000;color:#fff;.component-list{display:grid;grid-row-gap:8px;grid-column-gap:8px;grid-template-columns:repeat(5,1fr);padding:8px;}.component-item{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border:1px solid rgba(35,198,254,1);cursor:pointer;&:hover{background:rgba(255,255,255,0.4);}}.content-wrap{display:flex;}.menu-wrap{flex:none;width:80px;}.component-wrap{flex:auto;overflow:auto;}"]),S=c(8),I=(c(673),l.a.div.withConfig({displayName:"layer-list__ComponentListWrap",componentId:"g97dyu-0"})(["position:relative;width:200px;height:100%;color:#fff;background-color:#202327;.label{height:40px;padding:0 16px;line-height:40px;text-align:center;background:#373a44;}.layer-list{flex:1;height:calc(100% - 40px);padding:0;overflow-y:auto;transition:all linear 0.2s;.com-item{position:relative;display:flex;align-items:center;height:30px;padding:0 8px;list-style:none;outline:none;cursor:pointer;&:hover{color:#fff;}}.com-checked{background:rgb(36,145,247);}&::-webkit-scrollbar{width:5px;height:5px;}&::-webkit-scrollbar-thumb{background:rgba(144,146,152,0.46);border-radius:5px;}&::-webkit-scrollbar-track{background:transparent;border-radius:5px;}}"])),F=(l=(c(146),c(156)),c.n(l));function L(){var e=(a=Object(v.d)()).scale,n=a.updateScale,c=Object(r.useCallback)((function(){n(+(e+.1).toFixed(1))}),[e,n]),t=Object(r.useCallback)((function(){n(+(e-.1).toFixed(1))}),[e,n]),a=Object(r.useCallback)((function(e){n(e)}),[n]);return Object(w.jsxs)("div",{className:"slider",children:[Object(w.jsx)("span",{className:"slider-btn",onClick:c,children:"+"}),Object(w.jsx)(F.a,{placement:"top",trigger:"click",title:Object(w.jsxs)("div",{className:"list",style:{width:"60px",textAlign:"center",userSelect:"none",color:"#c5c5c5"},children:[Object(w.jsx)("div",{style:{cursor:"pointer"},onClick:a.bind(null,5),children:"500%"}),Object(w.jsx)("div",{style:{cursor:"pointer"},onClick:a.bind(null,3),children:"300%"}),Object(w.jsx)("div",{style:{cursor:"pointer"},onClick:a.bind(null,2),children:"200%"}),Object(w.jsx)("div",{style:{cursor:"pointer"},onClick:a.bind(null,1),children:"100%"}),Object(w.jsx)("div",{style:{cursor:"pointer"},onClick:a.bind(null,.5),children:"50%"})]}),children:Object(w.jsxs)("span",{className:"slider-number",children:[(100*e).toFixed(0),"%"]})}),Object(w.jsx)("span",{className:"slider-btn",onClick:t,children:"-"})]})}c(674);var E=c(312);c(675),n.default=function(){var e=Object(r.useMemo)((function(){var e=localStorage.getItem("designerData");return e?JSON.parse(e):[]}),[]);return Object(w.jsx)("div",{className:"layout-wrap",children:Object(w.jsxs)(v.c,{mode:"edit",componentsMeta:E.a,componentsInstance:e,children:[Object(w.jsx)(s,{}),Object(w.jsxs)("div",{className:"layout-content",children:[Object(w.jsx)(o,{}),Object(w.jsx)("div",{className:"canvas-wrap",children:Object(w.jsx)("div",{className:"canvas-content grid-wrap",children:Object(w.jsx)(v.a,{})})}),Object(w.jsx)(v.b,{})]}),Object(w.jsx)(L,{})]})})}}}]);